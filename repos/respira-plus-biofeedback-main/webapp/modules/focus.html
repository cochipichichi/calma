<!doctype html><html lang="es"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Focus Auditivo — CALMA</title>
<style>body{margin:0;font-family:system-ui;background:#0e0f13;color:#f4f7ff}.wrap{min-height:100vh;display:grid;place-items:center;padding:2rem}.panel{width:min(920px,94vw);background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:24px;padding:1.5rem}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:1rem}.card{padding:1rem;border-radius:16px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1)}.range{width:100%}</style>
  <link rel="stylesheet" href="assets/css/accessibility.css">
  <link rel="stylesheet" href="assets/css/dock.css">
</head><body>
<div class="wrap"><section class="panel">
<h1>Focus Auditivo 🎧</h1><p>Paisajes sonoros generados en el navegador.</p>
<div class="grid">
  <div class="card"><h3>🌊 Océano</h3><button onclick="P('ocean').start()">▶️</button> <button onclick="P('ocean').stop()">⏹️</button> <input class="range" type="range" min="0" max="1" step="0.01" value="0.3" oninput="P('ocean').vol(this.value)"></div>
  <div class="card"><h3>🌧️ Lluvia</h3><button onclick="P('rain').start()">▶️</button> <button onclick="P('rain').stop()">⏹️</button> <input class="range" type="range" min="0" max="1" step="0.01" value="0.3" oninput="P('rain').vol(this.value)"></div>
  <div class="card"><h3>🏞️ Río</h3><button onclick="P('river').start()">▶️</button> <button onclick="P('river').stop()">⏹️</button> <input class="range" type="range" min="0" max="1" step="0.01" value="0.25" oninput="P('river').vol(this.value)"></div>
  <div class="card"><h3>⚪ Blanco</h3><button onclick="P('white').start()">▶️</button> <button onclick="P('white').stop()">⏹️</button> <input class="range" type="range" min="0" max="1" step="0.01" value="0.2" oninput="P('white').vol(this.value)"></div>
</div>
</section></div>
<script>
(()=>{
 const ctx = new (window.AudioContext||window.webkitAudioContext)(); const master = ctx.createGain(); master.gain.value=.7; master.connect(ctx.destination);
 function white(){ const b=ctx.createBuffer(1, ctx.sampleRate*2, ctx.sampleRate); const d=b.getChannelData(0); for(let i=0;i<d.length;i++) d[i]=Math.random()*2-1; const s=ctx.createBufferSource(); s.buffer=b; s.loop=true; return s; }
 function ocean(){ const s=white(); const f=ctx.createBiquadFilter(); f.type='lowpass'; f.frequency.value=500; const lfo=ctx.createOscillator(); lfo.frequency.value=.1; const g=ctx.createGain(); g.gain.value=220; lfo.connect(g); g.connect(f.frequency); lfo.start(); s.connect(f); return {node:f, src:s}; }
 function rain(){ const s=white(); const f=ctx.createBiquadFilter(); f.type='highpass'; f.frequency.value=1000; s.connect(f); return {node:f, src:s}; }
 function river(){ const s=white(); const f=ctx.createBiquadFilter(); f.type='bandpass'; f.frequency.value=450; s.connect(f); return {node:f, src:s}; }
 const scenes={ ocean, rain, river, white: ()=>{ const s=white(); return {node:s, src:s}; } };
 const players={};
 window.P=(k)=>{
   if(!players[k]){
     const g=ctx.createGain(); g.gain.value=0; g.connect(master);
     const maker=scenes[k]; const obj=maker();
     if(obj.src) obj.src.connect(obj.node);
     obj.node.connect(g);
     players[k]={ start: ()=>{ ctx.resume(); try{obj.src.start()}catch(e){} }, stop: ()=>{ try{obj.src.stop()}catch(e){} }, vol: (v)=>{ g.gain.value=parseFloat(v||0); } };
   }
   return players[k];
 };
})();
</script>

<footer class="calma-footer" style="margin-top:2rem;padding:1rem;text-align:center;opacity:.9">bienestar auditivo — Hecho con amor por Pancho para mi Belén 💜</footer>

  <script src="assets/js/accessibility.js"></script>
  <script src="assets/js/dock.js"></script>
</body></html>